{"version":3,"sources":["webpack:///./styles/article.css?a09c","webpack:///./styles/core.css?0f23","webpack:///./scripts/constants.js","webpack:///./scripts/dataLoader.js","webpack:///./scripts/index.js","webpack:///./styles/article.css?84b8","webpack:///./styles/core.css?a0d8"],"names":["API_KEY","API_URL","DataLoader","url","fetch","response","checkStatus","json","ok","error","Error","statusText","ContentManagment","fetchAsync","data","sources","forEach","source","push","id","name","soursesMarkup","reduce","markup","current","concat","document","getElementById","innerHTML","addEventListener","getContentSource","articleId","history","pushState","urlRequest","articles","map","article","image","urlToImage","title","description","articlesHTML","getContentSourceHTML","contentId","getSources","getArticle","window","e","state","onload","replaceState"],"mappings":"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","file":"1.index.js","sourcesContent":["// extracted by mini-css-extract-plugin","// extracted by mini-css-extract-plugin","\r\nexport const API_KEY = 'ff4e5fedad734d3ca5503f69725ea2ca';\r\nexport const API_URL = 'https://newsapi.org/v1';\r\n","export class DataLoader {\r\n\r\n    constructor(url){\r\n        this.url = url;\r\n    }\r\n\r\n    async fetchAsync(){\r\n        var response = await fetch(this.url);\r\n        this.checkStatus(response);\r\n        return await response.json();\r\n    }\r\n\r\n    checkStatus(response){\r\n        if (response.ok) {\r\n            return response;\r\n        } \r\n        else \r\n        {\r\n            var error = new Error(response.statusText)\r\n            error.response = response;\r\n            throw error;\r\n        }\r\n    }\r\n}","import '../styles/core.css';\r\nimport '../styles/article.css';\r\nimport 'babel-polyfill';\r\nimport 'whatwg-fetch';\r\nimport {API_KEY, API_URL} from './constants'; \r\nimport {DataLoader} from './dataLoader';\r\n\r\nclass ContentManagment{\r\n\r\n    async getSources() {\r\n        var data = await new DataLoader(`${API_URL}/sources`).fetchAsync();\r\n    \r\n        let sources = [];\r\n        data.sources.forEach(source => {\r\n            sources.push({id: source.id, name: source.name, url: source.url});\r\n        });\r\n    \r\n        let soursesMarkup = sources.reduce((markup, current) => {\r\n            return markup.concat(`<div id=\"${current.id}\" class=\"news-container\"><img class=\"preview\" src=\"https://besticon-demo.herokuapp.com/icon?url=${current.url}&amp;size=70..120..200\">\r\n                <div class=\"title\"><a class=\"cursor\" id=\"сontentSource\"><strong>\"${current.name}\"</strong></a></div></div>`);\r\n        }, '');\r\n    \r\n        document.getElementById(\"source-container\").innerHTML = soursesMarkup;\r\n        sources.forEach(source => {\r\n            document.getElementById(source.id).addEventListener('click', () => this.getContentSource(source.id));\r\n        });\r\n    }\r\n\r\n    async getArticle(articleId) {\r\n\r\n        history.pushState({articleId}, `Selected: ${articleId}`, `#selected=${articleId}`);    \r\n\r\n        let urlRequest = `${API_URL}/articles?source=${articleId}&apiKey=${API_KEY}`;\r\n        let data = await new DataLoader(urlRequest).fetchAsync();\r\n\r\n        let articles = data.articles.map(article => {\r\n            return {image: article.urlToImage, title: article.title, description: article.description, url: article.url};\r\n        });\r\n\r\n        let articlesHTML = this.getContentSourceHTML(articles);\r\n        document.getElementById(\"source-container\").innerHTML = articlesHTML;\r\n    }\r\n\r\n    getContentSourceHTML(articles){                          \r\n        if (articles != null){\r\n            return articles.reduce((markup, current) => {\r\n                return markup.concat(`<div class=\"article\"><div class=\"article-image-div\"><img src=\"${current.image}\" class=\"article-image\"></div><div class=\"article-content\"><div class=\"article-title\">\r\n                    <h2 class=\"title-style\">${current.title}</h2></div><div class=\"article-description description-style\">${current.description}</div>\r\n                    <div class=\"article-reference\"><a href=\"${current.url}\" class=\"reference-style\">Redirect to article >></a></div></div></div>`);\r\n            }, '');\r\n        }\r\n        else {\r\n            return \"<div>Articles didn't found</div>\";\r\n        }\r\n    }\r\n\r\n    сontentSource_onclick(contentId) {\r\n        document.getElementById(\"сontentSource\").addEventListener(\"click\", function() {\r\n            this.getContentSource(contentId);\r\n        }, false); \r\n    }\r\n\r\n    async getContentSource(articleId){\r\n        if (!articleId) {\r\n            await this.getSources();\r\n        } \r\n        else \r\n        {\r\n            await this.getArticle(articleId);\r\n        }\r\n    }\r\n}\r\n\r\nwindow.addEventListener('popstate', e => {\r\n    new ContentManagment().getContentSource(e.state.articleId)\r\n});\r\n\r\nwindow.onload = new ContentManagment().getContentSource(null);\r\n\r\nhistory.replaceState({articleId: null}, 'Default state', '');\r\n\r\n","\nvar content = require(\"!!../node_modules/mini-css-extract-plugin/dist/loader.js!../node_modules/css-loader/dist/cjs.js!../node_modules/postcss-loader/src/index.js!./article.css\");\n\nif(typeof content === 'string') content = [[module.id, content, '']];\n\nvar transform;\nvar insertInto;\n\n\n\nvar options = {\"hmr\":true}\n\noptions.transform = transform\noptions.insertInto = undefined;\n\nvar update = require(\"!../node_modules/style-loader/lib/addStyles.js\")(content, options);\n\nif(content.locals) module.exports = content.locals;\n\nif(module.hot) {\n\tmodule.hot.accept(\"!!../node_modules/mini-css-extract-plugin/dist/loader.js!../node_modules/css-loader/dist/cjs.js!../node_modules/postcss-loader/src/index.js!./article.css\", function() {\n\t\tvar newContent = require(\"!!../node_modules/mini-css-extract-plugin/dist/loader.js!../node_modules/css-loader/dist/cjs.js!../node_modules/postcss-loader/src/index.js!./article.css\");\n\n\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\n\t\tvar locals = (function(a, b) {\n\t\t\tvar key, idx = 0;\n\n\t\t\tfor(key in a) {\n\t\t\t\tif(!b || a[key] !== b[key]) return false;\n\t\t\t\tidx++;\n\t\t\t}\n\n\t\t\tfor(key in b) idx--;\n\n\t\t\treturn idx === 0;\n\t\t}(content.locals, newContent.locals));\n\n\t\tif(!locals) throw new Error('Aborting CSS HMR due to changed css-modules locals.');\n\n\t\tupdate(newContent);\n\t});\n\n\tmodule.hot.dispose(function() { update(); });\n}","\nvar content = require(\"!!../node_modules/mini-css-extract-plugin/dist/loader.js!../node_modules/css-loader/dist/cjs.js!../node_modules/postcss-loader/src/index.js!./core.css\");\n\nif(typeof content === 'string') content = [[module.id, content, '']];\n\nvar transform;\nvar insertInto;\n\n\n\nvar options = {\"hmr\":true}\n\noptions.transform = transform\noptions.insertInto = undefined;\n\nvar update = require(\"!../node_modules/style-loader/lib/addStyles.js\")(content, options);\n\nif(content.locals) module.exports = content.locals;\n\nif(module.hot) {\n\tmodule.hot.accept(\"!!../node_modules/mini-css-extract-plugin/dist/loader.js!../node_modules/css-loader/dist/cjs.js!../node_modules/postcss-loader/src/index.js!./core.css\", function() {\n\t\tvar newContent = require(\"!!../node_modules/mini-css-extract-plugin/dist/loader.js!../node_modules/css-loader/dist/cjs.js!../node_modules/postcss-loader/src/index.js!./core.css\");\n\n\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\n\t\tvar locals = (function(a, b) {\n\t\t\tvar key, idx = 0;\n\n\t\t\tfor(key in a) {\n\t\t\t\tif(!b || a[key] !== b[key]) return false;\n\t\t\t\tidx++;\n\t\t\t}\n\n\t\t\tfor(key in b) idx--;\n\n\t\t\treturn idx === 0;\n\t\t}(content.locals, newContent.locals));\n\n\t\tif(!locals) throw new Error('Aborting CSS HMR due to changed css-modules locals.');\n\n\t\tupdate(newContent);\n\t});\n\n\tmodule.hot.dispose(function() { update(); });\n}"],"sourceRoot":""}